<!-- Author
     Shreyash Mhashilkar
     This is order details -->


<div class="container">
  <div class="container ">
    <!-- card -->
    <div class="card" style="margin-top: 20px; margin-bottom: 20px;">
      <div class="card-header bg-primary text-white">
        {{data[0]['order']['customer']['name']}}
      </div>
     
      <div class="card-body ">
        <div class="card-text">Order Id : {{orderId}} </div>
        <div class="card-text">Shipping address : {{data[0]['order']['customer']['address1']}}</div>
        <div class="card-text">Mobile No : {{data[0]['order']['customer']['mobileNumber']}}</div>
        <div class="card-text">Total Price : {{data[0]['order']['totalPrice']}}</div>

        <div class="displayDates">
          <div class="card-text">Order Date : {{data[0]['order']['orderDate']}}</div>
          <div class="card-text">Delivery Date: {{data[0]['order']['deliveryDate']}}</div>
        </div>


      </div>
    </div>

    <!-- order detail -->
    <h2 class="">Order Details</h2>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Photo</th>
          <th style="margin-left: 20px; text-align: center;">Quantity</th>
          <th>Name</th>
          <th>Price</th>
          <th style="margin-left: 20px; text-align: center;">Sub Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let i of data">
          <th style="height: 100px; width: 100px;"><img height="100%" width="100%" class="card-img-top"
            src="http://localhost:8282/downloads/{{i['product']['image']}}" alt="Card image cap"></th>
          <th style="margin-left: 20px; text-align: center;">1</th>
          <th style="height: 100px; width: 400px;">{{i['product']['productName']}}</th>
          <th>{{i['product']['unitPrice']}}</th>
          <th style="margin-left: 20px; text-align: center;"> {{i['subTotalPrice']}} </th>
        </tr>
      </tbody>
    </table>

    <div class="container">
      <table class="table">
        <thead>
          <tr>
            <th>Total Price</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              {{data[0]['order']['totalPrice']}}
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="container" style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;" >
      <div class="button">
        <button class="btn btn-primary" (click)="cancelOrder()"  >Cancel Order</button>
      </div>

      <div class="button">
        <button class="btn btn-primary" routerLink="/payment">make payment</button>
      </div>

    </div>

    

  </div>
</div>
<!-- This is model for Order cancel -->
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Profile</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-window-close fa-2x"></i>

    </button>
  </div>
  <div class="modal-body">
    <div class="content">

      Your Order has been cancelled!!

    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
  </div>
</ng-template>
